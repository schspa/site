<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2020-07-26 Sun 20:14 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Wiki</title>
<meta name="generator" content="Org mode">
<meta name="author" content="Jack Liu">
<link rel="shortcut icon" href="/images/rose-red.png" type="image/x-icon" />
<link rel="stylesheet" href="/css/animate.min.css" />
<link rel="stylesheet" href="/css/all.min.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css" />
<script src="/js/jquery.min.js"></script>
<script src="/js/darkreader.js"></script>
<script src="/user.config.js"></script>
<script src="/js/main.js"></script>
</head>
<body>
<div id="content">
<h1 class="title">Wiki</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgb5da722">WIKI</a>
<ul>
<li><a href="#org9b2ef9e">设计模式准则</a></li>
<li><a href="#org0d9da2d">Java 中抽象类和接口的区别</a></li>
<li><a href="#org5ee562c">文件的描述符和重定向</a></li>
<li><a href="#org0b6f1c7">数据归档和解压缩</a></li>
<li><a href="#orgfaed0c8">关于 CSS 中设置 height 为 100% 不起作用</a></li>
<li><a href="#org383d84d">JavaScript 中的 bind、call、apply 方法</a></li>
<li><a href="#org650012b">JavaScript 的 event 对象中 target 和 currentTarget 属性的区别</a></li>
<li><a href="#orgd589a00">JavaScript 对 url 的编码和解码</a></li>
<li><a href="#org9f35bc3">JavaScript indexOf</a></li>
<li><a href="#orgca5e9a3">npm 安装是 &#x2013;save 和 &#x2013;save-dev 的区别</a></li>
<li><a href="#orge17af65">Axios 为什么需要实例</a></li>
<li><a href="#org4bf0f41">Emacs 宏操作</a></li>
<li><a href="#org4f92f42">如何设置终端 256 色</a></li>
<li><a href="#org89c3b62">JavaScript JSON.stringify()</a></li>
<li><a href="#orgec967de">Java 中的接口方法为什么必须是 public</a></li>
<li><a href="#orgfd40551">Tagging</a></li>
<li><a href="#org4f30597">git 比较两次 commit 之间的差异</a></li>
<li><a href="#orge1c20c3">input 中 placeholder、disabled 状态样式修改</a></li>
<li><a href="#org66369bf">CSS 换行</a></li>
<li><a href="#org3b714e2">JS 获取 DPI</a></li>
<li><a href="#org28cf230">时间日期的格式化</a></li>
<li><a href="#org677602e">小程序跳转 H5 时 url 参数截断</a></li>
<li><a href="#org1121139">FormData</a></li>
<li><a href="#orge4033e4">滚动懒加载的实现</a></li>
<li><a href="#orgea85164">JavaScript 中的 || 和 &amp;&amp; 所遵循的短路现象</a></li>
<li><a href="#org7f3fcb1">刷新 DNS</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgb5da722" class="outline-2">
<h2 id="orgb5da722">WIKI</h2>
<div class="outline-text-2" id="text-orgb5da722">
</div>

<div id="outline-container-org9b2ef9e" class="outline-3">
<h3 id="org9b2ef9e">设计模式准则</h3>
<div class="outline-text-3" id="text-org9b2ef9e">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-06-24 Wed 10:57]</span></span>
</p>

<p>
我以前给一些公司讲一些设计模式的培训课，我一再提到，那23个经典的设计模式和 OO 半毛钱关系没有，只不过人家用 OO 来实现罢了。
</p>

<p>
设计模式就三个准则：
</p>
<ul class="org-ul">
<li>中意于组合而不是继承，</li>
<li>依赖于接口而不是实现，</li>
<li>高内聚，低耦合。</li>
</ul>

<p>
你看，这完全就是 Unix 的设计准则。
</p>
</div>
</div>

<div id="outline-container-org0d9da2d" class="outline-3">
<h3 id="org0d9da2d">Java 中抽象类和接口的区别</h3>
<div class="outline-text-3" id="text-org0d9da2d">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-05-24 Sun 14:36]</span></span>
</p>

<ul class="org-ul">
<li>抽象类要被子类继承，接口要被类实现；</li>
<li>接口只能做方法声明，抽象类中可以作方法声明，也可以做方法实现；</li>
<li>接口里定义的变量只能是公共的静态的常量，抽象类中的变量是普通变量；</li>
<li>接口是设计的结果，抽象类是重构的结果；</li>
<li>抽象类和接口都是用来抽象具体对象的，但是接口抽象级别最高；</li>
<li>抽象类可以有具体的方法和属性，接口只能有抽象方法和不可变常量；</li>
<li>抽象类主要用来抽象类别，接口主要用来抽象功能。</li>
</ul>

<blockquote>
<p>
比较抽象类和接口，按照其用途和结构逐个对比就好。
</p>

<p>
抽象类，用来让子类继承，它可以有具体的方法和属性，但主要还是抽象方法。一个抽象类是可以不包含抽象方法的，但如果一个抽象类不包含抽象方法，那定义一个抽象类是用来寻开心的吗 -_||
</p>

<p>
接口呢？一般来说，只包含方法声明，而且方法默认是 <code>public abstract</code> （公共抽象）的；如果非要包含变量，也只能是 <code>public static final</code> （公共静态常量）。
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org5ee562c" class="outline-3">
<h3 id="org5ee562c">文件的描述符和重定向</h3>
<div class="outline-text-3" id="text-org5ee562c">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-05-12 Tue 18:36]</span></span>
</p>

<p>
<span class="underline">文件描述符</span> 是和文件的输入、输出相关联的非负整数，Linux 内核（kernel）利用文件描述符来访问文件。打开现存文件或新建文件时，内核会返回一个文件描述符。读写文件也需要使用文件描述符来指定待读写的文件。
</p>

<p>
系统预留文件描述符：
</p>
<ul class="org-ul">
<li>0 - <code>stdin</code> 标准输入；</li>
<li>1 - <code>stdout</code> 标准输出；</li>
<li>2 - <code>stderr</code> 标准错误。</li>
</ul>

<p>
实例：
</p>
<div class="org-src-container">
<pre class="src src-sh"><span class="linenr"> 1: </span><span style="color: #75715E;"># </span><span style="color: #75715E;">&#36755;&#20986;&#37325;&#23450;&#21521;</span>
<span class="linenr"> 2: </span><span style="color: #75715E;"># </span><span style="color: #75715E;">1. &#25130;&#21462;&#27169;&#24335;&#20445;&#23384;&#21040;&#25991;&#20214; - &#20889;&#20837;&#21040;&#25991;&#20214;&#20043;&#21069;&#65292;&#25991;&#20214;&#20869;&#23481;&#39318;&#20808;&#20250;&#34987;&#28165;&#31354;</span>
<span class="linenr"> 3: </span><span style="color: #F92672;">echo</span> <span style="color: #E6DB74;">"this is a text line one"</span> &gt; test.txt
<span class="linenr"> 4: </span><span style="color: #75715E;"># </span><span style="color: #75715E;">2. &#36861;&#21152;&#27169;&#24335;&#20445;&#23384;&#21040;&#25991;&#20214; - &#20889;&#20837;&#21040;&#25991;&#20214;&#20043;&#21518;&#65292;&#20250;&#36861;&#21152;&#21040;&#25991;&#20214;&#32467;&#23614;</span>
<span class="linenr"> 5: </span><span style="color: #F92672;">echo</span> <span style="color: #E6DB74;">"this is a text line one"</span> &gt;&gt; test.txt
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #75715E;"># </span><span style="color: #75715E;">&#26631;&#20934;&#38169;&#35823;&#36755;&#20986;&#30340;&#37325;&#23450;&#21521;&#26041;&#27861;</span>
<span class="linenr"> 8: </span>cat linuxde.net                 <span style="color: #75715E;"># </span><span style="color: #75715E;">&#8594; cat: linuxde.net: No such file or directory</span>
<span class="linenr"> 9: </span><span style="color: #75715E;"># </span><span style="color: #75715E;">1. &#27809;&#26377;&#20219;&#20309;&#38169;&#35823;&#25552;&#31034;&#65292;&#27491;&#24120;&#36816;&#34892;</span>
<span class="linenr">10: </span>cat linuxde.net 2&gt; out.txt
<span class="linenr">11: </span><span style="color: #75715E;"># </span><span style="color: #75715E;">2. &#38169;&#35823;&#20449;&#24687;&#34987;&#20445;&#23384;&#21040;&#20102; out.txt &#25991;&#20214;&#20013;</span>
<span class="linenr">12: </span>cat linuxde.net &amp;&gt; out.txt
<span class="linenr">13: </span><span style="color: #75715E;"># </span><span style="color: #75715E;">3. &#23558;&#38169;&#35823;&#36755;&#20986;&#20002;&#24323;&#21040; /dev/null &#20013;&#65292;&#29305;&#27530;&#30340;&#35774;&#22791;&#25991;&#20214; - &#40657;&#27934;</span>
<span class="linenr">14: </span>cat linuxde.net 2&gt; /dev/null
<span class="linenr">15: </span>
<span class="linenr">16: </span><span style="color: #75715E;"># </span><span style="color: #75715E;">&#36755;&#20837;&#37325;&#23450;&#21521;</span>
<span class="linenr">17: </span><span style="color: #F92672;">echo</span> &lt; test.txt
</pre>
</div>
</div>
</div>

<div id="outline-container-org0b6f1c7" class="outline-3">
<h3 id="org0b6f1c7">数据归档和解压缩</h3>
<div class="outline-text-3" id="text-org0b6f1c7">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-05-12 Tue 18:35]</span></span>
</p>

<p>
首先要弄清两个概念：打包和压缩。 <span class="underline">打包</span> 是指将一大堆文件或目录变成一个总的文件； <span class="underline">压缩</span> 则是将一个大的文件通过一些压缩算法变成一个小文件。
</p>

<p>
<span class="underline">1. tar 命令</span>
</p>

<p>
利用tar命令，可以把一大堆的文件和目录全部打包成一个文件，这对于备份文件或将几个文件组合成为一个文件以便于网络传输是非常有用的。
</p>

<pre class="example">
# 语法
tar (选项) (参数)
</pre>

<p>
实例：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="linenr"> 1: </span><span style="color: #75715E;"># </span><span style="color: #75715E;">&#25171;&#21253;&#12289;&#21387;&#32553;</span>
<span class="linenr"> 2: </span>tar -cvf log.tar log2012.log      <span style="color: #75715E;"># </span><span style="color: #75715E;">&#20165;&#25171;&#21253;&#65292;&#19981;&#21387;&#32553;&#65281;</span>
<span class="linenr"> 3: </span>tar -zcvf log.tar.gz log2012.log  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#25171;&#21253;&#21518;&#65292;&#20197; gzip &#21387;&#32553;</span>
<span class="linenr"> 4: </span>tar -jcvf log.tar.bz2 log2012.log <span style="color: #75715E;"># </span><span style="color: #75715E;">&#25171;&#21253;&#21518;&#65292;&#20197; bzip2 &#21387;&#32553;</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #75715E;"># </span><span style="color: #75715E;">&#26597;&#35810;</span>
<span class="linenr"> 7: </span>tar -tvf log.tar                <span style="color: #75715E;"># </span><span style="color: #75715E;">&#30452;&#25509;&#26597;&#35810;</span>
<span class="linenr"> 8: </span>tar -ztvf log.tar.gz            <span style="color: #75715E;"># </span><span style="color: #75715E;">&#26597;&#35810;&#20197; gzip &#21387;&#32553;&#30340;&#25991;&#20214;</span>
<span class="linenr"> 9: </span>tar -jtvf log.tar.bz2           <span style="color: #75715E;"># </span><span style="color: #75715E;">&#26597;&#35810;&#20197; bzip2 &#21387;&#32553;&#30340;&#25991;&#20214;</span>
<span class="linenr">10: </span>
<span class="linenr">11: </span><span style="color: #75715E;"># </span><span style="color: #75715E;">&#35299;&#21387;&#32553;</span>
<span class="linenr">12: </span>tar -zxvf log.tar.gz            <span style="color: #75715E;"># </span><span style="color: #75715E;">&#20197; gzip &#35299;&#21387;&#32553;</span>
<span class="linenr">13: </span>tar -jxvf log.tar.bz2           <span style="color: #75715E;"># </span><span style="color: #75715E;">&#20197; bzip2 &#35299;&#21387;&#32553;</span>
<span class="linenr">14: </span>
<span class="linenr">15: </span>tar -zxvf log.tar.gz -C log     <span style="color: #75715E;"># </span><span style="color: #75715E;">&#20197; gzip &#35299;&#21387;&#32553;&#22312;&#30446;&#24405; log</span>
</pre>
</div>

<p>
其中：
</p>

<table>

<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">选项</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>-v</code></td>
<td class="org-left">显示操作过程</td>
</tr>

<tr>
<td class="org-left"><code>-f &lt;FILE&gt; --file=&lt;FIEL&gt;</code></td>
<td class="org-left">指定备份文件</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>-c --create</code></td>
<td class="org-left">建立新的备份文件</td>
</tr>

<tr>
<td class="org-left"><code>-t --list</code></td>
<td class="org-left">列出备份文件的内容</td>
</tr>

<tr>
<td class="org-left"><code>-x --extract --get</code></td>
<td class="org-left">从备份文件中还原文件</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>-z --gzip --ungzip</code></td>
<td class="org-left">通过gzip指令处理备份文件</td>
</tr>

<tr>
<td class="org-left"><code>-j</code></td>
<td class="org-left">支持bzip2解压文件</td>
</tr>

<tr>
<td class="org-left"><code>-C &lt;DIR&gt;</code></td>
<td class="org-left">在特定目录解压缩</td>
</tr>
</tbody>
</table>

<p>
小结：
</p>

<pre class="example">
压　缩：tar -jcv -f filename.tar.bz2 要被压缩的文件或目录名称
查　询：tar -jtv -f filename.tar.bz2
解压缩：tar -jxv -f filename.tar.bz2 -C 欲解压缩的目录
</pre>
</div>
</div>

<div id="outline-container-orgfaed0c8" class="outline-3">
<h3 id="orgfaed0c8">关于 CSS 中设置 height 为 100% 不起作用</h3>
<div class="outline-text-3" id="text-orgfaed0c8">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-04-25 Sat 15:57]</span></span>
</p>

<p>
<b>W3C 的规范，百分比的高度在设定时需要根据这个元素的父元素的高度。</b>
</p>

<p>
Web 浏览器有计算有效宽度时会考虑浏览器窗口的打开宽度，缼省为页面整个横向宽度。
</p>

<p>
事实上，浏览器根本就不计算内容的高度，除非内容超出了视窗范围（导致滚动条出现），缺省为 <code>height: auto</code> 。或者你给整个页面设置一个绝对高度，否则浏览器就会简单的让内容往下堆砌，页面的高度根本就无需考虑。
</p>

<blockquote>
<p>
！！！个人实践，在给 <code>html、body</code> 设置 <code>background</code> 相关属性的时候情况会很奇特，给其内的元素设置背景的时候就不存在这些奇葩问题。
</p>
</blockquote>

<p>
所以，当我们想要设置竖直高度的百分比，需要对 <code>html、body</code> 进行一些初始化设置，如：
</p>

<div class="org-src-container">
<pre class="src src-css"><span class="linenr"> 1: </span><span style="color: #A6E22E;">html </span><span style="color: #AE81FF;">{</span>
<span class="linenr"> 2: </span>    <span style="color: #75715E;">/* </span><span style="color: #75715E;">&#35774;&#32622;&#26681;&#20803;&#32032;&#39640;&#24230; </span><span style="color: #75715E;">*/</span>
<span class="linenr"> 3: </span>    <span style="color: #F92672;">height</span>: 100%;
<span class="linenr"> 4: </span><span style="color: #AE81FF;">}</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #A6E22E;">body </span><span style="color: #AE81FF;">{</span>
<span class="linenr"> 7: </span>    <span style="color: #75715E;">/* </span><span style="color: #75715E;">&#35774;&#32622; body &#39640;&#24230; </span><span style="color: #75715E;">*/</span>
<span class="linenr"> 8: </span>    <span style="color: #F92672;">height</span>: 100%;
<span class="linenr"> 9: </span><span style="color: #AE81FF;">}</span>
<span class="linenr">10: </span>
<span class="linenr">11: </span><span style="color: #75715E;">/* </span><span style="color: #75715E;">body &#20869;&#20803;&#32032; .container </span><span style="color: #75715E;">*/</span>
<span class="linenr">12: </span><span style="color: #A6E22E;">.container </span><span style="color: #AE81FF;">{</span>
<span class="linenr">13: </span>    <span style="color: #F92672;">height</span>: 60%;
<span class="linenr">14: </span>    <span style="color: #F92672;">background</span>: <span style="color: #ffffff; background-color: #f66;">#f66</span>;
<span class="linenr">15: </span><span style="color: #AE81FF;">}</span>
</pre>
</div>

<p>
其实试一下，你就会发现，如果直接对 <code>body</code> 设置 <code>background</code> 的背景图片或是背景色，都会占满整个容口。
</p>
</div>
</div>

<div id="outline-container-org383d84d" class="outline-3">
<h3 id="org383d84d">JavaScript 中的 bind、call、apply 方法<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup></h3>
<div class="outline-text-3" id="text-org383d84d">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-04-20 Mon 14:25]</span></span>
</p>

<p>
如果你在浏览器的控制台执行 <code>console.dir(Function)</code> ，就会发现 <code>apply、bind、call</code> 方法都是 <code>Function</code> 的原型方法，也就是说，JavaScript 中的每一个 Function 对外都包含上述三种方法。
</p>

<p>
<code>call、apply、bind</code> 方法都用来重定义 <code>this</code> 这个对象的。来看一个简单的例子：
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr"> 1: </span><span style="color: #F92672;">var</span> <span style="color: #FD971F;">name</span> = <span style="color: #E6DB74;">'Amy'</span>, <span style="color: #FD971F;">age</span> = 16;
<span class="linenr"> 2: </span><span style="color: #F92672;">var</span> <span style="color: #FD971F;">obj</span> = <span style="color: #AE81FF;">{</span>
<span class="linenr"> 3: </span>    name: <span style="color: #E6DB74;">'Lucy'</span>,
<span class="linenr"> 4: </span>    objAge: <span style="color: #AE81FF;">this</span>.age,
<span class="linenr"> 5: </span>    <span style="color: #A6E22E;">myFun</span>: <span style="color: #F92672;">function</span><span style="color: #66D9EF;">()</span> <span style="color: #66D9EF;">{</span>
<span class="linenr"> 6: </span>        console.log<span style="color: #A6E22E;">(</span><span style="color: #AE81FF;">this</span>.name + <span style="color: #E6DB74;">'&#24180;&#40836;'</span> + <span style="color: #AE81FF;">this</span>.age<span style="color: #A6E22E;">)</span>;
<span class="linenr"> 7: </span>    <span style="color: #66D9EF;">}</span>
<span class="linenr"> 8: </span><span style="color: #AE81FF;">}</span>
<span class="linenr"> 9: </span><span style="color: #F92672;">var</span> <span style="color: #FD971F;">db</span> = <span style="color: #AE81FF;">{</span>
<span class="linenr">10: </span>    name: <span style="color: #E6DB74;">'Jack'</span>,
<span class="linenr">11: </span>    age: 26
<span class="linenr">12: </span><span style="color: #AE81FF;">}</span>
<span class="linenr">13: </span>
<span class="linenr">14: </span>obj.myFun.call<span style="color: #AE81FF;">(</span>db<span style="color: #AE81FF;">)</span>;             <span style="color: #75715E;">// </span><span style="color: #75715E;">&#8594; Jack&#24180;&#40836;26</span>
<span class="linenr">15: </span>obj.myFun.apply<span style="color: #AE81FF;">(</span>db<span style="color: #AE81FF;">)</span>;            <span style="color: #75715E;">// </span><span style="color: #75715E;">&#8594; Jack&#24180;&#40836;26</span>
<span class="linenr">16: </span>obj.myFun.bind<span style="color: #AE81FF;">(</span>db<span style="color: #AE81FF;">)()</span>;           <span style="color: #75715E;">// </span><span style="color: #75715E;">&#8594; Jack&#24180;&#40836;26</span>
</pre>
</div>

<p>
注意： <code>bind</code> 方法返回的是一个函数，必须调用才会被执行。
</p>

<p>
<code>call、bind、apply</code> 这三个函数的第一个参数都是 <code>this</code> 的指向对象，区别在于第二个传参数：
</p>
<ul class="org-ul">
<li><code>call</code> 的参数是直接放进去，用逗号分隔；</li>
<li><code>apply</code> 的所有参数都必须放在一个数组里传进去；</li>
<li><code>bind</code> 除了返回函数以外，参数和 <code>call</code> 一样。</li>
</ul>
</div>
</div>

<div id="outline-container-org650012b" class="outline-3">
<h3 id="org650012b">JavaScript 的 event 对象中 target 和 currentTarget 属性的区别</h3>
<div class="outline-text-3" id="text-org650012b">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-04-18 Sat 18:33]</span></span>
</p>

<p>
本质区别是：
</p>
<ul class="org-ul">
<li><code>event.target</code> 返回触发事件的元素；</li>
<li><code>event.currentTarget</code> 返回绑定事件的元素。</li>
</ul>

<p>
<code>event.currentTarget</code> 的作用是什么呢？可以理解为和 <code>this</code> 的作用差不多，始终返回的是绑定事件的元素。 <code>target</code> 的妙用在于 target 事件委托，常见于列表点击事件。
</p>

<p>
具体示例请参考： <a href="https://www.cnblogs.com/yewenxiang/p/6171411.html">event对象中 target和currentTarget 属性的区别</a>
</p>
</div>
</div>

<div id="outline-container-orgd589a00" class="outline-3">
<h3 id="orgd589a00">JavaScript 对 url 的编码和解码</h3>
<div class="outline-text-3" id="text-orgd589a00">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-04-18 Sat 18:26]</span></span>
</p>

<p>
有时候，你会发现一些 url 链接是编码过的，如这样： <code>http%3A%2F%2Fw3cschool.cn%2Fmy%20test.asp%3Fname%3Dst%C3%A5le%26car%3Dsaab</code> 。
</p>

<p>
JavaScript 中使用 <code>encodeURIComponent()</code> 方法可以对 URI 进行编码；使用 <code>decodeURIComponent()</code> 方法可以对 URI 进行解码。
</p>

<p>
W3C 提供了简单的实现，如下：
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr">1: </span><span style="color: #F92672;">var</span> <span style="color: #FD971F;">uri</span>=<span style="color: #E6DB74;">"http://w3cschool.cn/my test.php?name=st&#229;le&amp;car=saab"</span>;
<span class="linenr">2: </span><span style="color: #F92672;">var</span> <span style="color: #FD971F;">uri_encode</span>=encodeURIComponent<span style="color: #AE81FF;">(</span>uri<span style="color: #AE81FF;">)</span>;
<span class="linenr">3: </span>document.write<span style="color: #AE81FF;">(</span>uri_encode<span style="color: #AE81FF;">)</span>;
<span class="linenr">4: </span>document.write<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">"&lt;br&gt;"</span><span style="color: #AE81FF;">)</span>;
<span class="linenr">5: </span>document.write<span style="color: #AE81FF;">(</span>decodeURIComponent<span style="color: #66D9EF;">(</span>uri_encode<span style="color: #66D9EF;">)</span><span style="color: #AE81FF;">)</span>;
</pre>
</div>

<p>
↓↓↓
</p>

<pre class="example">
http%3A%2F%2Fw3cschool.cc%2Fmy%20test.php%3Fname%3Dst%C3%A5le%26car%3Dsaab
http://w3cschools.com/my test.asp?name=ståle&amp;car=saab
</pre>
</div>
</div>

<div id="outline-container-org9f35bc3" class="outline-3">
<h3 id="org9f35bc3">JavaScript indexOf</h3>
<div class="outline-text-3" id="text-org9f35bc3">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-03-19 Thu 09:18]</span></span>
</p>

<p>
<code>indexOf()</code> 方法可返回指定的字符串值在字符串中 <span class="underline">首次</span> 出现的位置：
</p>
<ul class="org-ul">
<li>如果没有找到匹配的字符串则返回 -1 ;</li>
<li><code>indexOf()</code> 方法区分大小写。</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr">1: </span><span style="color: #F92672;">let</span> <span style="color: #FD971F;">str</span> = <span style="color: #E6DB74;">'Hello world, welcome to the universe.'</span>;
<span class="linenr">2: </span><span style="color: #F92672;">let</span> <span style="color: #FD971F;">n</span> = str.indexOf<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'welcome'</span><span style="color: #AE81FF;">)</span>;  <span style="color: #75715E;">// </span><span style="color: #75715E;">&#8594; 13</span>
<span class="linenr">3: </span><span style="color: #F92672;">let</span> <span style="color: #FD971F;">m</span> = str.indexOf<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'e'</span>, 5<span style="color: #AE81FF;">)</span>;     <span style="color: #75715E;">// </span><span style="color: #75715E;">&#8594; 14</span>
<span class="linenr">4: </span><span style="color: #F92672;">let</span> <span style="color: #FD971F;">v</span> = str.indexOf<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'none'</span><span style="color: #AE81FF;">)</span>;     <span style="color: #75715E;">// </span><span style="color: #75715E;">&#8594; -1</span>
</pre>
</div>

<p>
具体语法如下：
</p>

<pre class="example">
string.indexOf(searchvalue, start)
</pre>

<table>

<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">参数</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">searchvalue</td>
<td class="org-left">必需，规定需检索的字符串值</td>
</tr>

<tr>
<td class="org-left">start</td>
<td class="org-left">可选的整数参数，规定在字符串中开始检索的位置。它的合法值是 0 到 string Object.length - 1 。如果省略该参数，则将从字符串的首字符开始检索。</td>
</tr>
</tbody>
</table>

<blockquote>
<p>
与之相似的还有 <code>lastIndexOf()</code> 方法，可返回一个指定的字符串值在字符串中 <span class="underline">最后一次</span> 出现的位置。
</p>
</blockquote>

<p>
<span class="underline">#. Array includes()</span>
</p>

<p>
延伸一下，我们来看一下 JavaScript Array includes() 方法。
</p>

<p>
<code>includes()</code> 方法用来判断一个数组是否包含一个指定的值，如果是返回 <code>true</code> ，否则 <code>false</code> 。
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr">1: </span><span style="color: #AE81FF;">[</span>1, 2, 3<span style="color: #AE81FF;">]</span>.includes<span style="color: #AE81FF;">(</span>2<span style="color: #AE81FF;">)</span>;     <span style="color: #75715E;">// </span><span style="color: #75715E;">true</span>
<span class="linenr">2: </span><span style="color: #AE81FF;">[</span>1, 2, 3<span style="color: #AE81FF;">]</span>.includes<span style="color: #AE81FF;">(</span>4<span style="color: #AE81FF;">)</span>;     <span style="color: #75715E;">// </span><span style="color: #75715E;">false</span>
<span class="linenr">3: </span><span style="color: #AE81FF;">[</span>1, 2, 3<span style="color: #AE81FF;">]</span>.includes<span style="color: #AE81FF;">(</span>3, 3<span style="color: #AE81FF;">)</span>;  <span style="color: #75715E;">// </span><span style="color: #75715E;">false</span>
<span class="linenr">4: </span><span style="color: #AE81FF;">[</span>1, 2, 3<span style="color: #AE81FF;">]</span>.includes<span style="color: #AE81FF;">(</span>3, -1<span style="color: #AE81FF;">)</span>; <span style="color: #75715E;">// </span><span style="color: #75715E;">true</span>
<span class="linenr">5: </span><span style="color: #AE81FF;">[</span>1, 2, <span style="color: #AE81FF;">NaN</span><span style="color: #AE81FF;">]</span>.includes<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">NaN</span><span style="color: #AE81FF;">)</span>; <span style="color: #75715E;">// </span><span style="color: #75715E;">true</span>
</pre>
</div>

<p>
具体语法如下：
</p>

<pre class="example">
arr.includes(searchElement)
arr.includes(searchElement, fromIndex)
</pre>

<table>

<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">参数</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">searchElement</td>
<td class="org-left">必须，需要查找的元素</td>
</tr>

<tr>
<td class="org-left">fromIndex</td>
<td class="org-left">可选，默认为 0 。从该索引出开始查找 searchElement 。如果为负值，则按升序从 array.length + fromIndex 的索引处开始搜索</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgca5e9a3" class="outline-3">
<h3 id="orgca5e9a3">npm 安装是 &#x2013;save 和 &#x2013;save-dev 的区别<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup></h3>
<div class="outline-text-3" id="text-orgca5e9a3">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-03-09 Mon 10:42]</span></span>
</p>

<blockquote>
<p>
在生产环境中需要使用到的包安装时添加 <code>--save</code> ，只在开发环境中用到的包安装时添加 <code>--save-dev</code> 。
</p>
</blockquote>

<p>
以 npm 安装 vue 为例。
</p>

<p>
<span class="underline">1. npm install vue</span>
</p>

<ul class="org-ul">
<li>会把 vue 包安装到 <code>node_modules</code> 目录中；</li>
<li>不会修改 <code>package.json</code> 文件；</li>
<li>之后运行 <code>npm install</code> 命令时，不会自动安装 vue 。</li>
</ul>

<p>
<span class="underline">2. npm install vue &#x2013;save</span>
</p>

<ul class="org-ul">
<li>会把 vue 包安装到 <code>node_modules</code> 目录中；</li>
<li>会在 <code>package.json</code> 文件中的 <code>dependencies</code> 属性下添加 vue ；</li>
<li>之后运行 <code>npm install</code> 命令时，会自动安装 vue 包到 <code>node_modules</code> 目录中；</li>
<li>之后运行 <code>npm install --production</code> 或者注明 <code>NODE_DEV</code> 变量值为 <code>production</code> 时，不会自动安装 vue 到 <code>node_modules</code> 目录中。</li>
</ul>

<p>
<span class="underline">3. npm install vue &#x2013;save-dev</span>
</p>

<ul class="org-ul">
<li>会把 vue 包安装到 <code>node_modules</code> 目录中；</li>
<li>会在 <code>package.json</code> 文件中的 <code>devDependencies</code> 属性下添加 vue ；</li>
<li>之后运行 <code>npm install</code> 命令时，会自动安装 vue 包安装到 <code>node_modules</code> 目录中；</li>
<li>之后运行 <code>npm install --production</code> 或者注明 <code>NODE_DEV</code> 变量值为 <code>production</code> 时，不会自动安装 vue 包安装到 <code>node_modules</code> 目录中。</li>
</ul>

<p>
<span class="underline">4. npm install vue &#x2013;global</span>
</p>

<ul class="org-ul">
<li>会把 vue 包安装到全局环境中而不是当前项目的 <code>node_modules</code> 目录中（其实是全局环境中的 <code>node_modules</code> 啦）；</li>
<li>不会修改 <code>package.json</code> 文件；</li>
<li>之后运行 <code>npm install</code> 命令时，不会自动安装 vue 。</li>
</ul>
</div>
</div>

<div id="outline-container-orge17af65" class="outline-3">
<h3 id="orge17af65">Axios 为什么需要实例</h3>
<div class="outline-text-3" id="text-orge17af65">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-03-09 Mon 10:18]</span></span>
</p>

<p>
默认会导出实例 <code>axios</code> ，通常只需使用这个 <code>axios</code> 就可以了。
</p>

<p>
但有时你可能需要创建多个实例，比如你需要访问多个服务地址，而这些服务请求和响应的结构都完全不同，那么，你就可以通过 <code>axios.create</code> 创建不同的实例来处理。
</p>

<p>
比如 <code>axios1</code> 是用 <code>http</code> 状态码确定响应是否正常，而 <code>axios2</code> 是服务器自己定义的状态码，又或者它们请求头不同，支持的 <code>Content-Type</code> 不同，那么可以单独为 <code>axios1</code> 和 <code>axios2</code> 写拦截器。
</p>
</div>
</div>

<div id="outline-container-org4bf0f41" class="outline-3">
<h3 id="org4bf0f41">Emacs 宏操作</h3>
<div class="outline-text-3" id="text-org4bf0f41">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-02-28 Fri 12:02]</span></span>
<a href="https://www.jianshu.com/p/6ad946eb8ebc">https://www.jianshu.com/p/6ad946eb8ebc</a>
</p>

<table>

<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key/Command</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-x (</code></td>
<td class="org-left">开启宏记录</td>
</tr>

<tr>
<td class="org-left"><code>C-x )</code></td>
<td class="org-left">关闭宏记录</td>
</tr>

<tr>
<td class="org-left"><code>C-x e</code></td>
<td class="org-left">执行刚录制的宏</td>
</tr>

<tr>
<td class="org-left"><code>C-u n C-x e</code></td>
<td class="org-left">执行 n 次刚录制的宏</td>
</tr>

<tr>
<td class="org-left"><code>M-x name-last-kbd-marco</code></td>
<td class="org-left">给刚记录的宏命名</td>
</tr>

<tr>
<td class="org-left"><code>M-x insert-kbd-marco</code></td>
<td class="org-left">把刚命名的宏记录写入到文件中</td>
</tr>
</tbody>
</table>

<p>
可以设置一个专门的文件（如 <code>~/.emacs.d/macro.el</code> ）来记录宏，然后在 <code>init.el</code> 中加载改文件（ <code>(load-file "~/.emacs.d/macro.el")</code> ）， 如此便可以实现持久化。
</p>

<p>
如这个例子：用宏定义了下翻 15 行和上翻 15 行的快捷键。
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">1: </span><span style="color: #75715E;">;; </span><span style="color: #75715E;">macro.el</span>
<span class="linenr">2: </span><span style="color: #AE81FF;">(</span>fset 'next-lines
<span class="linenr">3: </span>    <span style="color: #E6DB74;">"\C-u15\C-n"</span><span style="color: #AE81FF;">)</span>
<span class="linenr">4: </span><span style="color: #AE81FF;">(</span>fset 'previous-lines
<span class="linenr">5: </span>    <span style="color: #E6DB74;">"\C-u15\C-p"</span><span style="color: #AE81FF;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">1: </span><span style="color: #75715E;">;; </span><span style="color: #75715E;">init.el</span>
<span class="linenr">2: </span>
<span class="linenr">3: </span><span style="color: #75715E;">;; </span><span style="color: #75715E;">...</span>
<span class="linenr">4: </span><span style="color: #75715E;">;; </span><span style="color: #75715E;">&#21152;&#36733; macro.el</span>
<span class="linenr">5: </span><span style="color: #AE81FF;">(</span>load-file <span style="color: #E6DB74;">"~/.emacs.d/macro.el"</span><span style="color: #AE81FF;">)</span>
<span class="linenr">6: </span><span style="color: #75715E;">;; </span><span style="color: #75715E;">&#32465;&#23450;&#24555;&#25463;&#38190;</span>
<span class="linenr">7: </span><span style="color: #AE81FF;">(</span>global-set-key <span style="color: #66D9EF;">(</span>kbd <span style="color: #E6DB74;">"C-x n RET"</span><span style="color: #66D9EF;">)</span> 'next-lines<span style="color: #AE81FF;">)</span>
<span class="linenr">8: </span><span style="color: #AE81FF;">(</span>global-set-key <span style="color: #66D9EF;">(</span>kbd <span style="color: #E6DB74;">"C-x p RET"</span><span style="color: #66D9EF;">)</span> 'previous-lines<span style="color: #AE81FF;">)</span>
<span class="linenr">9: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4f92f42" class="outline-3">
<h3 id="org4f92f42">如何设置终端 256 色</h3>
<div class="outline-text-3" id="text-org4f92f42">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-02-28 Fri 11:37]</span></span>
<a href="https://stackoverflow.com/questions/63950/how-to-make-emacs-terminal-colors-the-same-as-emacs-gui-colors?r=SearchResults">https://stackoverflow.com/questions/63950/how-to-make-emacs-terminal-colors-the-same-as-emacs-gui-colors?r=SearchResults</a>
</p>

<p>
设置 <code>TERM</code> 在 <code>.bashrc</code> 文件中，如下：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="linenr">1: </span><span style="color: #F92672;">export</span> <span style="color: #FD971F;">TERM</span>=xterm-256color
</pre>
</div>

<p>
如此，便设置好了。
</p>

<p>
加入我们使用在终端中使用 Emacs ，执行 <code>M-x list-colors-display</code> ，便可以看到 256 色已经全部激活，如此，终端下使用 Emacs 和 Emacs GUI 的颜色便相差无几了。
</p>
</div>
</div>

<div id="outline-container-org89c3b62" class="outline-3">
<h3 id="org89c3b62">JavaScript JSON.stringify()</h3>
<div class="outline-text-3" id="text-org89c3b62">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-02-27 Thu 09:02]</span></span>
</p>

<p>
<code>JSON.stringify()</code> 方法用于将 JavaScript 值转换为 JSON 字符串。语法如下：
</p>

<pre class="example">
JSON.stringify(value[, replacer[, space]])
</pre>

<p>
<span class="underline">参数说明：</span>
</p>

<ul class="org-ul">
<li><code>value</code> ，必需，要转换的 JavaScript 值（通常为对象或数组）；</li>
<li><code>replacer</code> ，可选，用于转换结果的函数或数组；</li>
<li><code>space</code> ，可选，文本添加缩进、空格和换行符。</li>
</ul>

<p>
其中，对于 <code>replacer</code> ，如果它为 <span class="underline">函数</span> ，则 JSON.stringify 将调用该函数，并传入每个成员的键和值。使用返回值而不是原始值。如果此函数返回 <code>undefined</code> ，则派出成员。根对象的键是一个空字符串： <code>""</code> 。如果 <code>replacer</code> 是一个 <span class="underline">数组</span> ，则仅转换该数组中具有键值的成员，成员的转换顺序与键在数组中的顺序一样。
</p>

<p>
其中，对于 <code>space</code> ，如果它是一个 <span class="underline">数字</span> ，则返回值文本在每个级别缩进指定数组的空格，如果 <code>space</code> 大于 10 ，则文本缩进 10 个空格。 <code>space</code> 也可以使用 <span class="underline">非数字</span> ，如 <code>\t</code> 。
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr"> 1: </span><span style="color: #F92672;">var</span> <span style="color: #FD971F;">str</span> = <span style="color: #AE81FF;">{</span><span style="color: #E6DB74;">"name"</span>:<span style="color: #E6DB74;">"&#33756;&#40479;&#25945;&#31243;"</span>, <span style="color: #E6DB74;">"site"</span>:<span style="color: #E6DB74;">"http://www.runoob.com"</span><span style="color: #AE81FF;">}</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#21482;&#26377;&#19968;&#20010;&#21442;&#25968;&#30340;&#24773;&#20917;</span>
<span class="linenr"> 4: </span>str_pretty1 = JSON.stringify<span style="color: #AE81FF;">(</span>str<span style="color: #AE81FF;">)</span>
<span class="linenr"> 5: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#8594; {"name":"&#33756;&#40479;&#25945;&#31243;","site":"http://www.runoob.com"}</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#20351;&#29992;&#21442;&#25968;&#24773;&#20917;</span>
<span class="linenr"> 8: </span>str_pretty2 = JSON.stringify<span style="color: #AE81FF;">(</span>str, <span style="color: #AE81FF;">null</span>, 4<span style="color: #AE81FF;">)</span>
<span class="linenr"> 9: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#8594;</span>
<span class="linenr">10: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">{</span>
<span class="linenr">11: </span><span style="color: #75715E;">//     </span><span style="color: #75715E;">"name": "&#33756;&#40479;&#25945;&#31243;",</span>
<span class="linenr">12: </span><span style="color: #75715E;">//     </span><span style="color: #75715E;">"site": "http://www.runoob.com"</span>
<span class="linenr">13: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">}</span>
<span class="linenr">14: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgec967de" class="outline-3">
<h3 id="orgec967de">Java 中的接口方法为什么必须是 public</h3>
<div class="outline-text-3" id="text-orgec967de">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-02-05 Wed 22:35]</span></span>
</p>

<p>
子类重写父类方法时，方法的访问权限不能小于原访问权限。接口是一种约束和规范，是一种 <span class="underline">更加抽象的抽象类</span> ，在接口中，方法的默认权限就是 <code>public</code> ，所以子类重写后只能是 <code>public</code> 。
</p>

<p>
接口中没有变量（既然是约束和规范，怎么能够定义一个大家都可以改的东西呢），只能是常量，默认修饰符为 <code>public static final</code> 。
</p>
<ul class="org-ul">
<li>接口必须要具体类实现才有意义，所以必须是 <code>public</code> ；</li>
<li>接口中的属性对所有实现类只有一份，所以是 <code>static</code> ；</li>
<li>要使实现类向上转型成功，所以必须使 <code>final</code> 的。</li>
</ul>
</div>
</div>

<div id="outline-container-orgfd40551" class="outline-3">
<h3 id="orgfd40551">Tagging</h3>
<div class="outline-text-3" id="text-orgfd40551">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-01-28 Tue 14:01]</span></span>
</p>

<table>

<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>git tag</code></td>
<td class="org-left">Listing your tags</td>
</tr>

<tr>
<td class="org-left"><code>git tag -l "v1.8.5"</code></td>
<td class="org-left">Listing the 1.8.5 series</td>
</tr>

<tr>
<td class="org-left"><code>git show v1.2</code></td>
<td class="org-left">Show you've tagged the commit</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>git tag -a v1.4 -m "my version 1.4"</code></td>
<td class="org-left">Annotated tags</td>
</tr>

<tr>
<td class="org-left"><code>git tag -a v1.2 9fceb02</code></td>
<td class="org-left">Tagging later</td>
</tr>

<tr>
<td class="org-left"><code>git tag -a v1.2 9fceb02 -m "my version 1.2"</code></td>
<td class="org-left">Tagging later and Annotated it</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>git push origin v1.5</code></td>
<td class="org-left">Sharing Tags</td>
</tr>

<tr>
<td class="org-left"><code>git push origin --tags</code></td>
<td class="org-left">Push a lot of tags at once</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>git tag -d v1.4</code></td>
<td class="org-left">Deleting tags</td>
</tr>

<tr>
<td class="org-left"><code>git push origin --delete &lt;tagname&gt;</code></td>
<td class="org-left">Deleting a remote tag</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>git checkout 2.0.0</code></td>
<td class="org-left">Checking out tags</td>
</tr>

<tr>
<td class="org-left"><code>git checkout -b version2 v2.0.0</code></td>
<td class="org-left">Switched to a new branch 'version2'</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org4f30597" class="outline-3">
<h3 id="org4f30597">git 比较两次 commit 之间的差异</h3>
<div class="outline-text-3" id="text-org4f30597">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-01-28 Tue 14:00]</span></span>
</p>

<p>
<a href="https://blog.csdn.net/u012830148/article/details/77497240">→ 参考链接</a>
</p>

<p>
如何使用 git 比较两次 commit 之间的差异文件呢？可以按下述步骤进行：
</p>
<ul class="org-ul">
<li>通过 <code>git log</code> 查看提交历史，获取提交 hash 码，如 hash1、hash2；</li>
<li>通过 <code>git diff hash1 hash2 --stat</code> ，查看这两次提交的差异文件，如 test1、test2；</li>
<li>通过 <code>git diff hash1 hash2 test1</code> ，查看指定差异文件 test1 具体修改的代码；</li>
<li>通过 <code>git diff hash1 hash2 test1 &gt; patch_file</code> ，可以将 test1 的差异部分提取成补丁文件；</li>
<li>通过 <code>git diff hash1 hash2 test1 test2 &gt; patch_file</code> ，可以将多个文件的差异生成到同一个补丁文件。</li>
</ul>

<blockquote>
<p>
生成补丁后，到相关目录下可以打补丁，如 <code>pathc -p1 &lt; patch_file</code> ，其中 <code>-p1</code> 是代表忽略当前目录下的几级目录。
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orge1c20c3" class="outline-3">
<h3 id="orge1c20c3">input 中 placeholder、disabled 状态样式修改</h3>
<div class="outline-text-3" id="text-orge1c20c3">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-01-28 Tue 14:00]</span></span>
</p>

<p>
问题场景：
</p>
<ul class="org-ul">
<li>有时按业务需求更改 <code>input</code> 中 <code>placeholder</code> 样式和 <code>disabled</code> 状态下的样式；</li>
<li>IOS 和安卓移动端样式兼容性问题，样式不一致。</li>
</ul>

<p>
处理如下：
</p>

<div class="org-src-container">
<pre class="src src-css"><span class="linenr"> 1: </span><span style="color: #F92672;">input</span>::-webkit-input-placeholder <span style="color: #AE81FF;">{</span>
<span class="linenr"> 2: </span>    <span style="color: #F92672;">color</span>: <span style="color: #000000; background-color: #ccc;">#ccc</span>;
<span class="linenr"> 3: </span>    <span style="color: #F92672; font-style: italic;">-webkit-text-fill-color</span>: <span style="color: #000000; background-color: #ccc;">#ccc</span>;
<span class="linenr"> 4: </span>    <span style="color: #F92672;">opacity</span>: 1;
<span class="linenr"> 5: </span>    <span style="color: #F92672; font-style: italic;">-webkit-opacity</span>: 1;
<span class="linenr"> 6: </span><span style="color: #AE81FF;">}</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #A6E22E;">input:disabled </span><span style="color: #AE81FF;">{</span>
<span class="linenr"> 9: </span>    <span style="color: #F92672;">background</span>: none;
<span class="linenr">10: </span>    <span style="color: #F92672;">color</span>: <span style="color: #ffffff; background-color: #333;">#333</span>;
<span class="linenr">11: </span>    <span style="color: #F92672; font-style: italic;">-webkit-text-fill-color</span>: <span style="color: #ffffff; background-color: #333;">#333</span>;
<span class="linenr">12: </span>    <span style="color: #F92672;">opacity</span>: 1;
<span class="linenr">13: </span>    <span style="color: #F92672; font-style: italic;">-webkit-opacity</span>: 1;
<span class="linenr">14: </span><span style="color: #AE81FF;">}</span>
<span class="linenr">15: </span>
<span class="linenr">16: </span><span style="color: #F92672;">input</span>:disabled::-webkit-input-placeholder <span style="color: #AE81FF;">{</span>
<span class="linenr">17: </span>    <span style="color: #F92672;">color</span>: <span style="color: #000000; background-color: #ccc;">#ccc</span>;
<span class="linenr">18: </span>    <span style="color: #F92672; font-style: italic;">-webkit-text-fill-color</span>: <span style="color: #000000; background-color: #ccc;">#ccc</span>;
<span class="linenr">19: </span>    <span style="color: #F92672;">opacity</span>: 1;
<span class="linenr">20: </span>    <span style="color: #F92672; font-style: italic;">-webkit-opacity</span>: 1;
<span class="linenr">21: </span><span style="color: #AE81FF;">}</span>
</pre>
</div>

<p>
相关延伸：
</p>
<ul class="org-ul">
<li><code>::-webkit-input-placeholder {}</code> 使用 webkit 内核的浏览器</li>
<li><code>:moz-placeholder {}</code> Firefox 版本 4-18</li>
<li><code>::moz-placeholder {}</code> Firefox 版本 19+</li>
<li><code>-ms-input-placeholder {}</code> IE 浏览器</li>
</ul>
</div>
</div>

<div id="outline-container-org66369bf" class="outline-3">
<h3 id="org66369bf">CSS 换行</h3>
<div class="outline-text-3" id="text-org66369bf">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-01-28 Tue 13:59]</span></span>
</p>

<p>
<a href="https://www.cnblogs.com/nangezi/p/9230062.html">→ 参考链接</a>
</p>

<p>
文本换行有很多方式：
</p>
<ul class="org-ul">
<li><code>&lt;br/&gt;</code> 标签元素，能够强制使得所在位置文本换行；</li>
<li><code>&lt;p&gt;</code> 元素， <code>&lt;div&gt;</code> 设定宽度，都可以对文本内容实现自适应换行；</li>
<li>对于长单词或链接，默认不会断开换行，方式 2 就不能够在这些文本内部进行换行，此时需要 <code>word-wrap: break-word;</code> 或 <code>word-break: break-all;</code> 实现强制断行。</li>
</ul>

<p>
<span class="underline">1. 强制不换行</span>
</p>

<div class="org-src-container">
<pre class="src src-css"><span class="linenr">1: </span><span style="color: #A6E22E;">div </span><span style="color: #AE81FF;">{</span>
<span class="linenr">2: </span>    <span style="color: #F92672;">white-space</span>: nowrap;
<span class="linenr">3: </span><span style="color: #AE81FF;">}</span>
<span class="linenr">4: </span><span style="color: #75715E;">/*</span>
<span class="linenr">5: </span><span style="color: #75715E;">white-space:</span>
<span class="linenr">6: </span><span style="color: #75715E;">- normal  &#40664;&#35748;</span>
<span class="linenr">7: </span><span style="color: #75715E;">- pre     &#25442;&#34892;&#21644;&#20854;&#20182;&#31354;&#30333;&#23383;&#31526;&#37117;&#23558;&#21463;&#21040;&#20445;&#25252;</span>
<span class="linenr">8: </span><span style="color: #75715E;">- nowrap  &#24378;&#21046;&#22312;&#21516;&#19968;&#34892;&#20869;&#26174;&#31034;&#25152;&#26377;&#25991;&#26412;&#65292;&#30452;&#21040;&#25991;&#26412;&#32467;&#26463;&#25110;&#32773;&#36973;&#36935; &lt;br&gt; &#23545;&#35937;</span>
<span class="linenr">9: </span><span style="color: #75715E;">*/</span>
</pre>
</div>

<p>
<span class="underline">2. 控制文本换行</span>
</p>

<div class="org-src-container">
<pre class="src src-css"><span class="linenr"> 1: </span><span style="color: #A6E22E;">div </span><span style="color: #AE81FF;">{</span>
<span class="linenr"> 2: </span>    <span style="color: #F92672;">word-break</span>: normal;
<span class="linenr"> 3: </span>    <span style="color: #F92672;">word-break</span>: break-all;
<span class="linenr"> 4: </span>    <span style="color: #F92672;">word-break</span>: keep-all;
<span class="linenr"> 5: </span><span style="color: #AE81FF;">}</span>
<span class="linenr"> 6: </span><span style="color: #75715E;">/*</span>
<span class="linenr"> 7: </span><span style="color: #75715E;">word-break:</span>
<span class="linenr"> 8: </span><span style="color: #75715E;">- normal        &#20381;&#25454;&#20122;&#27954;&#35821;&#35328;&#19982;&#38750;&#20122;&#27954;&#35821;&#35328;&#30340;&#25991;&#26412;&#35268;&#21017;&#65292;&#20801;&#35768;&#22312;&#23383;&#20869;&#25442;&#34892;</span>
<span class="linenr"> 9: </span><span style="color: #75715E;">- break-all     &#35813;&#34892;&#20026;&#19982;&#20122;&#27954;&#35821;&#35328;&#30340; normal &#30456;&#21516;&#65292;&#20063;&#20801;&#35768;&#38750;&#20122;&#27954;&#35821;&#35328;&#25991;&#26412;&#34892;&#30340;&#20219;&#24847;&#23383;&#20869;&#26029;&#24320;&#65292;&#35813;&#20540;&#36866;&#21512;&#21253;&#21547;&#19968;&#20123;&#38750;&#20122;&#27954;&#25991;&#26412;&#30340;&#20122;&#27954;&#25991;&#26412;</span>
<span class="linenr">10: </span><span style="color: #75715E;">- keep-all      &#19982;&#25152;&#26377;&#38750;&#20122;&#27954;&#35821;&#35328;&#30340; normal &#30456;&#21516;&#65292;&#23545;&#20110;&#20013;&#25991;&#12289;&#38889;&#25991;&#12289;&#26085;&#25991;&#65292;&#19981;&#20801;&#35768;&#23383;&#26029;&#24320;&#65292;&#36866;&#21512;&#21253;&#21547;&#23569;&#37327;&#20122;&#27954;&#25991;&#26412;&#30340;&#38750;&#20122;&#27954;&#25991;&#26412;</span>
<span class="linenr">11: </span><span style="color: #75715E;">*/</span>
</pre>
</div>

<p>
<span class="underline">3. 强制单词内或链接内断行</span>
</p>

<div class="org-src-container">
<pre class="src src-css"><span class="linenr">1: </span><span style="color: #A6E22E;">div </span><span style="color: #AE81FF;">{</span>
<span class="linenr">2: </span>    <span style="color: #F92672;">word-wrap</span>: break-word;
<span class="linenr">3: </span><span style="color: #AE81FF;">}</span>
<span class="linenr">4: </span><span style="color: #75715E;">/*</span>
<span class="linenr">5: </span><span style="color: #75715E;">word-wrap:      &#23646;&#24615;&#29992;&#26469;&#34920;&#26126;&#26159;&#21542;&#20801;&#35768;&#27983;&#35272;&#22120;&#22312;&#38271;&#21333;&#35789;&#21644;&#38142;&#25509;&#20869;&#36827;&#34892;&#26029;&#21477;</span>
<span class="linenr">6: </span><span style="color: #75715E;">- normal        &#21482;&#22312;&#20801;&#35768;&#30340;&#26029;&#23383;&#28857;&#25442;&#34892;</span>
<span class="linenr">7: </span><span style="color: #75715E;">- break-word    &#22312;&#38271;&#21333;&#35789;&#25110; URL &#22320;&#22336;&#20869;&#37096;&#36827;&#34892;&#25442;&#34892;</span>
<span class="linenr">8: </span><span style="color: #75715E;">*/</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3b714e2" class="outline-3">
<h3 id="org3b714e2">JS 获取 DPI</h3>
<div class="outline-text-3" id="text-org3b714e2">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-01-28 Tue 13:59]</span></span>
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr"> 1: </span><span style="color: #75715E;">//</span><span style="color: #75715E;">&#33719;&#21462;DPI</span>
<span class="linenr"> 2: </span><span style="color: #F92672;">function</span> <span style="color: #A6E22E;">js_getDPI</span><span style="color: #AE81FF;">()</span> <span style="color: #AE81FF;">{</span>
<span class="linenr"> 3: </span>    <span style="color: #F92672;">var</span> <span style="color: #FD971F;">arrDPI</span> = <span style="color: #F92672;">new</span> <span style="color: #66D9EF;">Array</span><span style="color: #66D9EF;">()</span>;
<span class="linenr"> 4: </span>    <span style="color: #F92672;">if</span> <span style="color: #66D9EF;">(</span> window.screen.deviceXDPI != <span style="color: #AE81FF;">undefined</span> <span style="color: #66D9EF;">)</span> <span style="color: #66D9EF;">{</span>
<span class="linenr"> 5: </span>        arrDPI<span style="color: #A6E22E;">[</span>0<span style="color: #A6E22E;">]</span> = window.screen.deviceXDPI;
<span class="linenr"> 6: </span>        arrDPI<span style="color: #A6E22E;">[</span>1<span style="color: #A6E22E;">]</span> = window.screen.deviceYDPI;
<span class="linenr"> 7: </span>    <span style="color: #66D9EF;">}</span>
<span class="linenr"> 8: </span>    <span style="color: #F92672;">else</span> <span style="color: #66D9EF;">{</span>
<span class="linenr"> 9: </span>        <span style="color: #F92672;">var</span> <span style="color: #FD971F;">tmpNode</span> = document.createElement<span style="color: #A6E22E;">(</span> <span style="color: #E6DB74;">"DIV"</span> <span style="color: #A6E22E;">)</span>;
<span class="linenr">10: </span>        tmpNode.style.cssText = <span style="color: #E6DB74;">"width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden"</span>;
<span class="linenr">11: </span>        document.body.appendChild<span style="color: #A6E22E;">(</span> tmpNode <span style="color: #A6E22E;">)</span>;
<span class="linenr">12: </span>        arrDPI<span style="color: #A6E22E;">[</span>0<span style="color: #A6E22E;">]</span> = parseInt<span style="color: #A6E22E;">(</span> tmpNode.offsetWidth <span style="color: #A6E22E;">)</span>;
<span class="linenr">13: </span>        arrDPI<span style="color: #A6E22E;">[</span>1<span style="color: #A6E22E;">]</span> = parseInt<span style="color: #A6E22E;">(</span> tmpNode.offsetHeight <span style="color: #A6E22E;">)</span>;
<span class="linenr">14: </span>        tmpNode.parentNode.removeChild<span style="color: #A6E22E;">(</span> tmpNode <span style="color: #A6E22E;">)</span>;
<span class="linenr">15: </span>    <span style="color: #66D9EF;">}</span>
<span class="linenr">16: </span>    <span style="color: #F92672;">return</span> arrDPI;
<span class="linenr">17: </span><span style="color: #AE81FF;">}</span>
<span class="linenr">18: </span>
<span class="linenr">19: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#23558; px &#36716;&#25104; mm</span>
<span class="linenr">20: </span><span style="color: #F92672;">let</span> <span style="color: #FD971F;">mm</span> = pxValue/dpi*2.54*10;   <span style="color: #75715E;">// </span><span style="color: #75715E;">dpi &#26159;&#19978;&#38754;&#33719;&#21462;&#30340;&#65292;&#27880;&#24847;&#23545;&#24212; XY &#36724;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org28cf230" class="outline-3">
<h3 id="org28cf230">时间日期的格式化</h3>
<div class="outline-text-3" id="text-org28cf230">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-01-28 Tue 13:58]</span></span>
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr"> 1: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#35813;&#25554;&#20214;&#29992;&#26469;&#26684;&#24335;&#21270;&#24403;&#21069;&#36755;&#20837;&#30340;&#26102;&#38388;/&#26085;&#26399;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">xxxx/xx/xx xx:xx:xx</span>
<span class="linenr"> 4: </span><span style="color: #F92672;">const</span> <span style="color: #FD971F;">formatTime</span> = <span style="color: #AE81FF;">(</span>date<span style="color: #AE81FF;">)</span> =&gt; <span style="color: #AE81FF;">{</span>
<span class="linenr"> 5: </span>    <span style="color: #F92672;">let</span> <span style="color: #FD971F;">year</span> = date.getFullYear<span style="color: #66D9EF;">()</span>,
<span class="linenr"> 6: </span>        month = date.getMonth<span style="color: #66D9EF;">()</span> + 1,
<span class="linenr"> 7: </span>        day = date.getDate<span style="color: #66D9EF;">()</span>,
<span class="linenr"> 8: </span>        hour = date.getHours<span style="color: #66D9EF;">()</span>,
<span class="linenr"> 9: </span>        minute = date.getMinutes<span style="color: #66D9EF;">()</span>,
<span class="linenr">10: </span>        second = date.getSeconds<span style="color: #66D9EF;">()</span>;
<span class="linenr">11: </span>
<span class="linenr">12: </span>    <span style="color: #F92672;">return</span> <span style="color: #66D9EF;">[</span>year, month, day<span style="color: #66D9EF;">]</span>.map<span style="color: #66D9EF;">(</span>formatNumber<span style="color: #66D9EF;">)</span>.join<span style="color: #66D9EF;">(</span><span style="color: #E6DB74;">'/'</span><span style="color: #66D9EF;">)</span> +
<span class="linenr">13: </span>           <span style="color: #E6DB74;">' '</span>  +
<span class="linenr">14: </span>           <span style="color: #66D9EF;">[</span>hour, minute, second<span style="color: #66D9EF;">]</span>.map<span style="color: #66D9EF;">(</span>formatNumber<span style="color: #66D9EF;">)</span>.jon<span style="color: #66D9EF;">(</span><span style="color: #E6DB74;">';'</span><span style="color: #66D9EF;">)</span>;
<span class="linenr">15: </span><span style="color: #AE81FF;">}</span>
<span class="linenr">16: </span>
<span class="linenr">17: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">xxxx-xx-xx</span>
<span class="linenr">18: </span><span style="color: #F92672;">const</span> <span style="color: #FD971F;">formatDate</span> = <span style="color: #AE81FF;">(</span>date<span style="color: #AE81FF;">)</span> =&gt; <span style="color: #AE81FF;">{</span>
<span class="linenr">19: </span>    <span style="color: #F92672;">let</span> <span style="color: #FD971F;">year</span> = date.getFullYear<span style="color: #66D9EF;">()</span>,
<span class="linenr">20: </span>        month = date.getMonth<span style="color: #66D9EF;">()</span> + 1,
<span class="linenr">21: </span>        day = date.getData<span style="color: #66D9EF;">()</span>;
<span class="linenr">22: </span>
<span class="linenr">23: </span>    <span style="color: #F92672;">return</span> <span style="color: #66D9EF;">[</span>year, month, day<span style="color: #66D9EF;">]</span>.map<span style="color: #66D9EF;">(</span>formatNumber<span style="color: #66D9EF;">)</span>.join<span style="color: #66D9EF;">(</span><span style="color: #E6DB74;">'-'</span><span style="color: #66D9EF;">)</span>;
<span class="linenr">24: </span><span style="color: #AE81FF;">}</span>
<span class="linenr">25: </span>
<span class="linenr">26: </span><span style="color: #F92672;">const</span> <span style="color: #FD971F;">formatNumber</span> = <span style="color: #AE81FF;">(</span>n<span style="color: #AE81FF;">)</span> =&gt; <span style="color: #AE81FF;">{</span>
<span class="linenr">27: </span>    n = n.toString<span style="color: #66D9EF;">()</span>;
<span class="linenr">28: </span>
<span class="linenr">29: </span>    <span style="color: #F92672;">return</span> n<span style="color: #66D9EF;">[</span>1<span style="color: #66D9EF;">]</span> ? n : <span style="color: #E6DB74;">'0'</span> + n;  <span style="color: #75715E;">// </span><span style="color: #75715E;">&#22914; 8 -&gt; 08</span>
<span class="linenr">30: </span><span style="color: #AE81FF;">}</span>
<span class="linenr">31: </span>
<span class="linenr">32: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#23548;&#20986;&#26041;&#27861;</span>
<span class="linenr">33: </span>module.exports = <span style="color: #AE81FF;">{</span>
<span class="linenr">34: </span>    formatTime: formatTime,
<span class="linenr">35: </span>    formatDate: formatDate
<span class="linenr">36: </span><span style="color: #AE81FF;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org677602e" class="outline-3">
<h3 id="org677602e">小程序跳转 H5 时 url 参数截断</h3>
<div class="outline-text-3" id="text-org677602e">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-01-28 Tue 13:57]</span></span>
</p>

<p>
<a href="https://my.oschina.net/pingheyongfeng/blog/1634522">→ 参考链接</a>
</p>

<p>
先来看一个例子，原来的 url 为 <code>https://ultimavip.cn/m/mposter.html?source=gxw_001_t_mposter</code> ，跳转后变为 <code>https://ultimavip.cn/m/mposter.html</code> ，参数 <code>?source=gxw_001_t_mposter</code> 丢失了，为什么呢？编码问题。
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr"> 1: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#36339;&#36716;&#21040; H5 &#39029;&#38754;&#30340;&#23567;&#31243;&#24207;&#20195;&#30721;</span>
<span class="linenr"> 2: </span><span style="color: #A6E22E;">targetUrl</span>: <span style="color: #F92672;">function</span><span style="color: #AE81FF;">()</span> <span style="color: #AE81FF;">{</span>
<span class="linenr"> 3: </span>    console.log<span style="color: #66D9EF;">(</span><span style="color: #AE81FF;">this</span>.data.mod_textUrl<span style="color: #66D9EF;">)</span>;
<span class="linenr"> 4: </span>    wx.navigateTo<span style="color: #66D9EF;">(</span><span style="color: #A6E22E;">{</span>
<span class="linenr"> 5: </span>        url: <span style="color: #E6DB74;">'../webview/webview?url='</span> + encodeURIComponent<span style="color: #E6DB74;">(</span><span style="color: #AE81FF;">this</span>.data.mod_textUrl<span style="color: #E6DB74;">)</span> <span style="color: #75715E;">// </span><span style="color: #75715E;">&#27492;&#22788;&#38656;&#35201;&#32534;&#30721;&#65292;&#22240;&#20026;&#26377; '?' &#65292;&#21487;&#33021;&#27983;&#35272;&#22120;&#19981;&#35748;</span>
<span class="linenr"> 6: </span>    <span style="color: #A6E22E;">}</span><span style="color: #66D9EF;">)</span>
<span class="linenr"> 7: </span><span style="color: #AE81FF;">}</span>
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#36339;&#36716;&#21040;&#30340; H5 &#39029;&#38754;&#36827;&#34892;&#35299;&#30721;</span>
<span class="linenr">10: </span><span style="color: #A6E22E;">onLoad</span>: <span style="color: #F92672;">function</span><span style="color: #AE81FF;">(</span><span style="color: #FD971F;">options</span><span style="color: #AE81FF;">)</span> <span style="color: #AE81FF;">{</span>
<span class="linenr">11: </span>    <span style="color: #AE81FF;">this</span>.setData<span style="color: #66D9EF;">(</span><span style="color: #A6E22E;">{</span>
<span class="linenr">12: </span>        targetUrl: decodeURIComponent<span style="color: #E6DB74;">(</span>options.url<span style="color: #E6DB74;">)</span>; <span style="color: #75715E;">// </span><span style="color: #75715E;">&#29992; decodeURIComponent &#36827;&#34892;&#35299;&#30721;</span>
<span class="linenr">13: </span>    <span style="color: #A6E22E;">}</span><span style="color: #66D9EF;">)</span>
<span class="linenr">14: </span>    console.log<span style="color: #66D9EF;">(</span>options.url<span style="color: #66D9EF;">)</span>;
<span class="linenr">15: </span><span style="color: #AE81FF;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1121139" class="outline-3">
<h3 id="org1121139">FormData</h3>
<div class="outline-text-3" id="text-org1121139">
<p>
<a href="https://www.cnblogs.com/gczmn/p/9437935.html">→ 参考链接</a>
</p>

<p>
FormData 类型是什么？ FormData 类型是在 XMLHttpRequest Level 2 定义的，它为序列化表单以及创建与表单格式相同的数据（用于 XHR 传输）提供便利。
</p>

<p>
如何初始化一个 formData 对象实例呢？如下：
</p>
<ul class="org-ul">
<li>创建一个空对象实例；</li>
<li>使用已有表单来初始化一个对象实例。</li>
</ul>

<p>
<span class="underline">1. 创建一个空对象实例</span>
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr">1: </span><span style="color: #F92672;">var</span> <span style="color: #FD971F;">formData</span> = <span style="color: #F92672;">new</span> <span style="color: #66D9EF;">FormData</span><span style="color: #AE81FF;">()</span>;
</pre>
</div>

<p>
后续，可以调用 <code>append()</code> 方法来添加数据。
</p>

<p>
<span class="underline">2. 初始化已有表单创建实例</span>
</p>

<p>
假设已有表单如下：
</p>

<div class="org-src-container">
<pre class="src src-html"><span class="linenr">1: </span>&lt;<span style="color: #A6E22E;">form</span> <span style="color: #FD971F;">id</span>=<span style="color: #E6DB74;">"myForm"</span> <span style="color: #FD971F;">action</span>=<span style="color: #E6DB74;">""</span> <span style="color: #FD971F;">method</span>=<span style="color: #E6DB74;">"post"</span>&gt;
<span class="linenr">2: </span>  &lt;<span style="color: #A6E22E;">input</span> <span style="color: #FD971F;">type</span>=<span style="color: #E6DB74;">"text"</span> <span style="color: #FD971F;">name</span>=<span style="color: #E6DB74;">"name"</span> /&gt;&#21517;&#23383;
<span class="linenr">3: </span>  &lt;<span style="color: #A6E22E;">input</span> <span style="color: #FD971F;">type</span>=<span style="color: #E6DB74;">"password"</span> <span style="color: #FD971F;">name</span>=<span style="color: #E6DB74;">"psw"</span> /&gt;&#23494;&#30721;
<span class="linenr">4: </span>  &lt;<span style="color: #A6E22E;">input</span> <span style="color: #FD971F;">type</span>=<span style="color: #E6DB74;">"submit"</span> <span style="color: #FD971F;">value</span>=<span style="color: #E6DB74;">"&#25552;&#20132;"</span> /&gt;
<span class="linenr">5: </span>&lt;/<span style="color: #A6E22E;">form</span>&gt;
</pre>
</div>

<p>
下面是用这个表单元素作为初始化参数，来实例化一个 formData 对象，如下：
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr"> 1: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#33719;&#21462;&#39029;&#38754;&#24050;&#26377;&#30340; form &#34920;&#21333;</span>
<span class="linenr"> 2: </span><span style="color: #F92672;">let</span> <span style="color: #FD971F;">form</span> = document.getElementById<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'myForm'</span><span style="color: #AE81FF;">)</span>;
<span class="linenr"> 3: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#29992;&#34920;&#21333;&#26469;&#21021;&#22987;&#21270;</span>
<span class="linenr"> 4: </span><span style="color: #F92672;">let</span> <span style="color: #FD971F;">formData</span> = <span style="color: #F92672;">new</span> <span style="color: #66D9EF;">FormData</span><span style="color: #AE81FF;">(</span>form<span style="color: #AE81FF;">)</span>;
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#36824;&#21487;&#20197;&#26681;&#25454; name &#26469;&#35775;&#38382;&#34920;&#21333;&#20013;&#30340;&#23383;&#27573;</span>
<span class="linenr"> 7: </span><span style="color: #F92672;">let</span> <span style="color: #FD971F;">name</span> = formData.get<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'name'</span><span style="color: #AE81FF;">)</span>; <span style="color: #75715E;">// </span><span style="color: #75715E;">&#33719;&#21462;&#21517;&#23383;</span>
<span class="linenr"> 8: </span><span style="color: #F92672;">let</span> <span style="color: #FD971F;">psw</span> = formData.get<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'psw'</span><span style="color: #AE81FF;">)</span>;   <span style="color: #75715E;">// </span><span style="color: #75715E;">&#33719;&#21462;&#23494;&#30721;</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#36824;&#21487;&#20197;&#22312;&#27492;&#22522;&#30784;&#19978;&#65292;&#32487;&#32493;&#28155;&#21152;&#20854;&#20182;&#25968;&#25454;</span>
<span class="linenr">11: </span>formData.append<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'token'</span>, <span style="color: #E6DB74;">'otherdata...'</span><span style="color: #AE81FF;">)</span>;
</pre>
</div>
<p>
<span class="underline">3. 操作方法</span>
</p>

<p>
formData 里面存储的数据形式是什么？一对 key/value 组成一条数据， key 是唯一的，一个 key 可能对应多个 value 。如果是使用表单初始化，每一个表单字段对应一条数据，它们的 HTML <code>name</code> 属性即为 key 值， <code>value</code> 属性对应 value 值。
</p>

<table>

<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">key</th>
<th scope="col" class="org-left">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">k1</td>
<td class="org-left">[v1, v2, v3]</td>
</tr>

<tr>
<td class="org-left">k2</td>
<td class="org-left">v4</td>
</tr>
</tbody>
</table>

<p>
可以用如下方法操作数据：
</p>
<ul class="org-ul">
<li>获取数据，通过 <code>get(key)/getAll(key)</code> 来获取对应的 value 值；</li>
<li>添加数据，通过 <code>append(key, value)</code> 来添加数据，若 key 不存在会新增，若 key 已存在会添加到数据末尾；</li>
<li>修改数据，通过 <code>set(key, value)</code> 来设置数据，若 key 不存在会新增，若存在会修改对应的 value 值；</li>
<li>判断是否该数据，通过 <code>has(key)</code> 来判断是否对应的 key 值；</li>
<li>删除数据，通过 <code>delete(key)</code> ，来删除数据；</li>
<li>遍历，通过 <code>entries()</code> ，来获取一个迭代器，每条用一次 <code>next()</code> 返回一条数据，如此可以遍历所有的数据。</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr">1: </span>formData.get<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'name'</span><span style="color: #AE81FF;">)</span>;       <span style="color: #75715E;">// </span><span style="color: #75715E;">&#33719;&#21462; key &#20026; name &#30340;&#31532;&#19968;&#20010;&#20540;</span>
<span class="linenr">2: </span>formData.getAll<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'name'</span><span style="color: #AE81FF;">)</span>;    <span style="color: #75715E;">// </span><span style="color: #75715E;">&#36820;&#22238;&#19968;&#20010;&#25968;&#25454;&#65292;&#33719;&#21462; key &#20026; name &#30340;&#25152;&#26377;&#20540;</span>
</pre>
</div>

<p>
通过 XHR 来发送数据，如下：
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr">1: </span><span style="color: #F92672;">let</span> <span style="color: #FD971F;">xhr</span> = <span style="color: #F92672;">new</span> <span style="color: #66D9EF;">XMLHttpRequest</span><span style="color: #AE81FF;">()</span>;
<span class="linenr">2: </span>xhr.open<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'post'</span>, <span style="color: #E6DB74;">'login'</span><span style="color: #AE81FF;">)</span>;
<span class="linenr">3: </span>xhr.setRequestHeader<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'Content-Type'</span>, <span style="color: #E6DB74;">'application/x-www-form-urlencoded'</span><span style="color: #AE81FF;">)</span>;
<span class="linenr">4: </span>xhr.send<span style="color: #AE81FF;">(</span>formData<span style="color: #AE81FF;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orge4033e4" class="outline-3">
<h3 id="orge4033e4">滚动懒加载的实现</h3>
<div class="outline-text-3" id="text-orge4033e4">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-01-28 Tue 13:55]</span></span>
</p>

<p>
<a href="https://www.jb51.net/article/159033.htm">→ 参考链接</a>
</p>

<p>
什么时候需要懒加载呢？数据量大，一页显示不完，网页渲染事件长，影响体验。如何解决？分页，或数据懒加载。
</p>

<blockquote>
<p>
先设定了基础前提，假设视窗可以显示 30 数据，总共有 56 条数据要展示。
</p>
</blockquote>

<p>
如何实现数据懒加载呢？先来看三个属性：
</p>
<ul class="org-ul">
<li>scrollHeight ，元素总高度，包含滚动条中的内容，只读；</li>
<li>scrollTop ，当元素出现滚动条时，向下拖动滚动条时，内容向上滚动的距离，可读写；</li>
<li>clientHeight ，元素内容及其边框所占的空间大小，即可视区域大小高度。</li>
</ul>

<p>
如何判断滚动条到底部了呢？很显然，当 <code>scrollHeight - scrollTop - clientHeight = 0</code> 时，滚动条就到底部了。
</p>

<p>
来看代码，在第一次请求数据的时候，先设置一个变量来记录请求次数（其实后台也是做分页的处理）：
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr">1: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#21021;&#22987;&#21270;&#39318;&#39029;&#39029;&#30721;</span>
<span class="linenr">2: </span><span style="color: #F92672;">let</span> <span style="color: #FD971F;">currentPage</span> = 1;            <span style="color: #75715E;">// </span><span style="color: #75715E;">this.currentPage = 1</span>
<span class="linenr">3: </span>
<span class="linenr">4: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">&#33719;&#21462;&#39318;&#39029;&#25968;&#25454;&#65292;apiGetTableData &#20026;&#23450;&#20041;&#30340;&#33719;&#21462;&#25968;&#25454;&#30340;&#25509;&#21475;</span>
<span class="linenr">5: </span><span style="color: #75715E;">// </span><span style="color: #75715E;">data &#20026;&#35831;&#27714;&#21442;&#25968;</span>
<span class="linenr">6: </span><span style="color: #AE81FF;">this</span>.apiGetTableData<span style="color: #AE81FF;">(</span>data<span style="color: #AE81FF;">)</span>.then<span style="color: #AE81FF;">(</span>res =&gt; <span style="color: #66D9EF;">{</span>
<span class="linenr">7: </span>    $this.totalPage = res.totalPage; <span style="color: #75715E;">// </span><span style="color: #75715E;">&#36825;&#37324;&#38656;&#35201;&#30693;&#36947;&#24635;&#39029;&#25968;</span>
<span class="linenr">8: </span>    $this.tableData = res.data;      <span style="color: #75715E;">// </span><span style="color: #75715E;">&#34920;&#26684;&#25968;&#25454;</span>
<span class="linenr">9: </span><span style="color: #66D9EF;">}</span><span style="color: #AE81FF;">)</span>
</pre>
</div>

<p>
监听表格 DOM 对象的滚动事件：
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="linenr"> 1: </span><span style="color: #F92672;">let</span> <span style="color: #FD971F;">DOM</span> = document.querySelector<span style="color: #AE81FF;">(</span>targetDom<span style="color: #AE81FF;">)</span>;
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>DOM.addEventListener<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'scroll'</span>, <span style="color: #F92672;">function</span><span style="color: #66D9EF;">()</span> <span style="color: #66D9EF;">{</span>
<span class="linenr"> 4: </span>    <span style="color: #F92672;">let</span> <span style="color: #FD971F;">scrollDistance</span> = DOM.scrollHeight - DOM.scrollTop - DOM.clientHeight;
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span>    <span style="color: #F92672;">if</span><span style="color: #A6E22E;">(</span>scrollDistance &lt;= 0<span style="color: #A6E22E;">)</span> <span style="color: #A6E22E;">{</span>                      <span style="color: #75715E;">// </span><span style="color: #75715E;">&#20026; 0 &#35777;&#26126;&#28378;&#21160;&#26465;&#24050;&#32463;&#21040;&#24213;&#65292;&#21487;&#20197;&#35831;&#27714;&#25509;&#21475;</span>
<span class="linenr"> 7: </span>        <span style="color: #F92672;">if</span><span style="color: #E6DB74;">(</span><span style="color: #AE81FF;">this</span>.currentPage &lt; <span style="color: #AE81FF;">this</span>.totalPage<span style="color: #E6DB74;">)</span> <span style="color: #E6DB74;">{</span>   <span style="color: #75715E;">// </span><span style="color: #75715E;">&#24403;&#21069;&#39029;&#25968;&#23567;&#20110;&#24635;&#39029;&#25968;&#32487;&#32493;&#35831;&#27714;</span>
<span class="linenr"> 8: </span>            <span style="color: #AE81FF;">this</span>.currentPage++;                   <span style="color: #75715E;">// </span><span style="color: #75715E;">&#24403;&#21069;&#39029;&#25968;&#33258;&#22686;</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>            <span style="color: #75715E;">// </span><span style="color: #75715E;">&#35831;&#27714;&#25509;&#21475;&#20195;&#30721;</span>
<span class="linenr">11: </span>            <span style="color: #75715E;">// </span><span style="color: #75715E;">data &#20026;&#35831;&#27714;&#21442;&#25968;</span>
<span class="linenr">12: </span>            <span style="color: #AE81FF;">this</span>.apiGetTableData<span style="color: #FD971F;">(</span>data<span style="color: #FD971F;">)</span>.then<span style="color: #FD971F;">(</span>res =&gt; <span style="color: #F92672;">{</span>
<span class="linenr">13: </span>                <span style="color: #AE81FF;">this</span>.tableData = $this.tableData.concat<span style="color: #AE81FF;">(</span>res.data<span style="color: #AE81FF;">)</span>; <span style="color: #75715E;">// </span><span style="color: #75715E;">&#23558;&#35831;&#27714;&#22238;&#26469;&#30340;&#25968;&#25454;&#21644;&#24403;&#21069;&#23637;&#31034;&#30340;&#25968;&#25454;&#21512;&#24182;</span>
<span class="linenr">14: </span>            <span style="color: #F92672;">}</span><span style="color: #FD971F;">)</span>
<span class="linenr">15: </span>        <span style="color: #E6DB74;">}</span>
<span class="linenr">16: </span>    <span style="color: #A6E22E;">}</span>
<span class="linenr">17: </span><span style="color: #66D9EF;">}</span><span style="color: #AE81FF;">)</span>
</pre>
</div>

<p>
如此，就实现表格滚动下拉时的数据懒加载。
</p>
</div>
</div>

<div id="outline-container-orgea85164" class="outline-3">
<h3 id="orgea85164">JavaScript 中的 || 和 &amp;&amp; 所遵循的短路现象</h3>
<div class="outline-text-3" id="text-orgea85164">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-01-28 Tue 13:55]</span></span>
</p>

<p>
当 <code>||</code> 时，找到为 <code>true</code> 的分项就停止处理，并返回该分项的值，否则执行完，并返回最后的分项的值；
</p>

<p>
当 <code>&amp;&amp;</code> 时，找到为 <code>false</code> 的分项就停止处理，并返回该分项的值，否则执行完，并返回最后的分项的值。
</p>
</div>
</div>

<div id="outline-container-org7f3fcb1" class="outline-3">
<h3 id="org7f3fcb1">刷新 DNS</h3>
<div class="outline-text-3" id="text-org7f3fcb1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-01-28 Tue 13:54]</span></span>
</p>

<p>
windows 下 <span class="underline">刷新 DNS</span> 的方法：打开 cmd → 输入 <code>ipconfig /flushdns</code> 。 Github 有时候，连接很慢，甚至有打不开的状况，此时，可以尝试刷新一下 DNS ，会有意象不到的效果哦。
</p>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
<a href="https://www.cnblogs.com/Shd-Study/p/6560808.html">https://www.cnblogs.com/Shd-Study/p/6560808.html</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">
<a href="https://www.cnblogs.com/yuanyiming/p/10735513.html">https://www.cnblogs.com/yuanyiming/p/10735513.html</a>
</p></div></div>

</div>
</div></div>
<div id="postamble" class="status">
<p class="date">Date: 2020-01-28 Tue 14:02</p>
<p class="author">Author: Jack Liu</p>
<p class="date">Created: 2020-07-26 Sun 20:14</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
